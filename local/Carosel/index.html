<html>
	<head>
		<title>TEST</title>
		<link rel="stylesheet" type="text/css" href="test.css">
	</head>
<body>
	<div class="gallery">
		<div class="slider">
			<div class="button left"></div>

			<div class="list">
				<div class="flex_wrap">
					<div class="img">
						<img src="assets/img0.png">
					</div>
					<div class="img">
						<img src="assets/img1.png">
					</div>
					<div class="img">
						<img src="assets/img2.png">
					</div>
					<div class="img">
						<img src="assets/img3.png">
					</div>
					<div class="img">
						<img src="assets/img4.png">
					</div>
				</div>
			</div>

			<div class="button rigth"></div>
		</div>
	</div>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script>
		jQuery(document).ready(function($) {
			const gallery = $( '.gallery' );
			const slider = gallery.find( '.slider' );
			const wrap = gallery.find( '.flex_wrap' );
			const buttons = gallery.find( '.button' );

			$( window ).resize( () => {
				const wrapWidth = wrap.innerWidth();
				const slideWidth = !window.matchMedia( "(max-width: 576px)" ).matches? ( wrapWidth - 60 )/3: wrapWidth - 20;
				wrap.css( 'flex-basis', slideWidth );
			} ).trigger( 'resize' );

			buttons.on( 'click', event => {
				const direction = $(event.target).hasClass('rigth')? -1 : +1;
				const width = direction * +wrap.css('flex-basis').replace('px', '');

				console.log( wrap )

				wrap.css( 'transform',  'translate( 0, 0)')

				wrap.animate({
					transform: 'translate(1000px, 0)',
				}, 1000);
			} );

		});
	</script>
</body>
</html>
